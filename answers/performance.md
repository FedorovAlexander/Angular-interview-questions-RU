## <a name="tools-to-improve"></a>Что можно сделать, чтобы улучшить производительность приложения?

1. Изменить `ChangeDetectionStrategy` на `OnPush`.
2. Отключение Change Detection.
3. Обнаружение локальных изменений.
4. Запуск вне Angular.
5. Использование чистых пайпов.
6. Использование опции `trackBy` для директивы `*ngFor`.
7. Оптимизация выражений в шаблонах.
8. Использование Web Worker.
9. Lazy Load.
10. Предварительная загрузка.

<br/>

## <a name="on-push"></a>Что такое ChangeDetectionStrategy.onPush?

Когда компонент получает данные из своего родителя, Angular анализирует дерево компонентов и проверяет входные данные на наличие любых отличий от его предыдущего значения этих данных.

`ChangeDetectionStrategy.onPush` отключает такую проверку change detection (CD) на компоненте и его дочерних элементах. При первом запуске приложения Angular запускает CD на компоненте с onPush и отключает слежение. В последующих запусках CD этот компонент и все его дочерние компоненты будут пропущены. Далее CD на этом компоненте будет запущено только в случае, если входные данные были изменены.

<br/>

## <a name="detach"></a>Что такое отключение Change Detection?

У каждого компонента в Angular есть детектор изменений. Мы можем инжектировать этот детектор изменений (`ChangeDetectorRef`) чтобы отключить или включить change detection на этом компоненте (и его дочерних компонентах).

У класса `ChangeDetectorRef` есть методы:

- `markForCheck()`: помечает родительские компоненты как нуждающиеся в проверке (и ререндеринге).
- `detach()`: отключает change detection на этом компоненте и его дочерних компонентах.
- `detectChanges()`: немедленно запустит change detection на этом компоненте и его дочерних компонентах
- `checkNoChanges()`: проверяет change detection и его дочерние элементы и выдает их при обнаружении любых изменений. Используется в режиме разработки, чтобы убедиться, что запущенное обнаружение изменений не вносит других изменений.
- `reattach()`: снова подключает к change detection ранее отключенные компоненты.

<br/>
<br/>
<br/>
<br/>

<hr/>

Источники:<br/>

1. [https://dev-gang.ru/article/10-hitrostei-dlja-optimizacii-vashego-angular-prilozhenija-8fk5qyino3/](https://dev-gang.ru/article/10-hitrostei-dlja-optimizacii-vashego-angular-prilozhenija-8fk5qyino3/)
