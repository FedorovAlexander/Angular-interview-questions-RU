## <a name="what-is"></a>Зачем нужен NgModule?

`NgModule` помогает организовать компоненты, директивы и сервисы в логический блок, который подразумевает под собой определенный раздел сайта.

<br/>

## <a name="when-to-create"></a>Когда нужно создавать новый NgModule?

Приложения среднего или большого размера включают в себя разные разделы. Админка, панель управления, заказы, магазин, настройки. Для каждого раздела мы создаем новый `NgModule`.

<br/>

## <a name="for-root-for-child"></a>В чем разница между методами forRoot() and forChild() и зачем они нужны?

Когда мы импортируем сервис в lazy loaded модуль, то Angular создает новый экземпляр этого сервиса.
<br/>
RouterModule объявляет и экспортирует директивы (`router-outlet`, `routerLink`, `routerLinkActive` и т.д.) и сервисы (`Router`, `ActivatedRoute` и т.д.). Для того, чтобы избежать дублирования экземпляров сервиса у `RouterModule` есть два метода: `forRoot` and `forChild`.
<br/>
Из названий методов ясно, что метод `forRoot` должен быть вызван только в корневом модуле (app.module), а `forChild` должен вызываться в других (feature) модулях. Таким образом все директивы, компоненты и пайпы всё также будут экспортироваться из модуля, но новый экземпляр сервиса не будет создан.

<br/>

## <a name="provideIn"></a>Как используется свойство providedIn?

`ProvidedIn` указывает на модуль, в котором будет использоваться сервис. Если указать `providedIn: 'root'` то сервис можно использовать по всему приложению.

<br/>

## <a name="not-shared-module"></a>Что бы вы поместили в shared модуль?

В Shared модуль я бы поместил директивы, пайпы, компоненты, которые используются по всему приложению и экспортировал бы их из этого модуля. Shared модуль можно импортировать туда, где нам нужны эти компоненты/пайпы/директивы и, таким образом, нам не нужно будет импортировать всё по отдельности.

<br/>

## <a name="shared-module"></a>Что бы вы не поместили в shared модуль?

В Shared модуль я бы не поместил сервисы, которые могут быть импортированы в lazy loaded модуль. Когда lazy loaded модуль импортирует модуль, в котором есть сервис, angular создает новый экземпляр этого сервиса.

<br/>
<br/>
<br/>
<br/>

<hr/>

Источники:<br/>

1. [https://angular.io/api/router/RouterModule](https://angular.io/api/router/RouterModule)
1. [https://angular.io/guide/providers](https://angular.io/guide/providers)
